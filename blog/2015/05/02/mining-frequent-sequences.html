<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <!-- (1) Optimize for mobile versions: http://goo.gl/EOpFl -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- (1) force latest IE rendering engine: bit.ly/1c8EiC9 -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Mining frequent sequences in knowledge building dialogues</title>
  <meta name="description" content="" />

  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@bod0ng" />
    <meta name="twitter:title" content="Mining frequent sequences in knowledge building dialogues" />
    <meta name="twitter:image" content="http://bodong.ch//assets/images/df_logo.png" />
    
    <meta name="twitter:description"  content="" />
    
  

  <meta property="og:site_name" content="Crisscross Landscapes" />
  <meta property="og:title" content="Mining frequent sequences in knowledge building dialogues"/>
  
  <meta property="og:description" content="" />
  
  <meta property="og:image" content="http://bodong.ch//assets/images/df_logo.png" />
  <meta property="og:url" content="http://bodong.ch//blog/2015/05/02/mining-frequent-sequences.html" >
  <meta property="og:type" content="blog" />
  <meta property="article:published_time" content="2015-05-02T00:00:00-05:00">

  <link rel="canonical" href="http://bodong.ch//blog/2015/05/02/mining-frequent-sequences.html"/>
  <link rel="shortcut icon" href="/assets/images/favicon.png" type="image/png"/>
  <link rel="stylesheet" href="//brick.a.ssl.fastly.net/Linux+Libertine:400,400i,700,700i/Open+Sans:400,400i,700,700i">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="stylesheet" type="text/css" media="screen" href="/css/main.css" />
  <link rel="stylesheet" type="text/css" media="print" href="/css/print.css" />
  <link rel="stylesheet" type="text/css" media="screen" href="/css/custom.css" />
</head>

  <body itemscope itemtype="http://schema.org/Article">
    <!-- header start -->

<a href="http://bodong.ch/" class="logo-readium"><span class="logo" style="background-image: url(/assets/images/df_logo.png)"></span></a>

<!-- header end -->

    <main class="content" role="main">
      <article class="post">
        
        <div class="noarticleimage">
          <div class="post-meta">
            <h1 class="post-title">Mining frequent sequences in knowledge building dialogues</h1>
            <div class="cf post-meta-text">
              <div class="author-image" style="background-image: url(/assets/images/author.jpg)">Blog Logo</div>
              <h4 class="author-name" itemprop="author" itemscope itemtype="http://schema.org/Person"></h4>
              on
              <time datetime="2015-05-02T00:00:00-05:00">02 May 2015</time>
              
                <a class="tag_list_link" href="/tag/analytics">analytics</a>
              
                <a class="tag_list_link" href="/tag/temporality">temporality</a>
              
            </div>
          </div>
        </div>
        <br>
        <br>
        <br>
        
        <section class="post-content">
          <div class="post-reading">
            <span class="post-reading-time"></span> read
          </div>
          <a name="topofpage"></a>
          <p><a href="http://upload.wikimedia.org/wikipedia/commons/4/44/%27Out_Of_Order%27_by_David_Mach_-_geograph.org.uk_-_1102588.jpg"><img src="http://upload.wikimedia.org/wikipedia/commons/4/44/%27Out_Of_Order%27_by_David_Mach_-_geograph.org.uk_-_1102588.jpg" alt="Out of Order" /></a></p>

<p>In a <a href="blog/2014/04/17/temporailty-in-dialogues/">previous post</a> I highlighted the significance of studying temporality in collaborative learning and argued it should be studied more widely in learning sciences research because temporality matters for learning in a socio-cultural context. In the specific study I <a href="http://rpubs.com/bodong/lak14">presented</a> at <a href="http://lak14indy.wordpress.com">LAK14</a>, an analytic technique named <strong>Lag-sequential Analysis (LsA)</strong> was applied to investigate sequential patterns among six <strong><a href="https://www.researchgate.net/publication/259178463_Ways_of_Contributing_to_an_Explanation-Seeking_Dialogue_in_Science_and_History">contribution types</a></strong> in knowledge building dialogues by elementary school students. Such analysis was able to uncover temporal patterns that were otherwise undiscoverable using a traditional “coding-and-counting” technique, which is widely applied in many learning sciences studies. More methodological guidance is needed for the research community to make such technique accessible for more learning scientists.</p>

<h3 id="introducing-frequent-sequence-mining">Introducing Frequent Sequence Mining</h3>

<p>Later on when working on a MOOC research project at the University of Toronto, I got acquainted to another data mining technique named <strong><a href="http://en.wikipedia.org/wiki/Sequential_Pattern_Mining">Sequential Pattern Mining</a></strong> or <strong><a href="http://en.wikibooks.org/wiki/Data_Mining_Algorithms_In_R/Sequence_Mining/SPADE">Frequent Sequence Mining </a> (FSM)</strong>, which is a well-studied sub-domain of Frequent Pattern Mining. In a nutshell,</p>

<blockquote>
  <p>Frequent Sequence Mining is used to discover a set of patterns shared among objects which have between them a specific order.</p>
</blockquote>

<p>In my specific research context, because <a href="http://ikit.org/kb.html">knowledge building</a> is conceptualized as an emergent process in which a community of people collectively improve their ideas by making various types of contributions to their discourse, the major question I was interested in was:</p>

<blockquote>
  <p>to which extent do the sequential relations among different contribution types matter for effective knowledge-building dialogues?</p>
</blockquote>

<p>So it became perfectly straightforward to apply FSM to the problem I was studying, with a hope that it could afford additional insights about temporality in knowledge-building dialogues.</p>

<h3 id="data-preparation-for-fsm">Data preparation for FSM</h3>

<p>Note that I had two types of knowledge-building dialogues or conceptual <strong>threads</strong>: <em>effective</em> (or productive) and <em>improvable</em>. The first six rows of the thread data looked like this:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">head</span><span class="p">(</span><span class="n">dft</span><span class="p">[,</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">)])</span><span class="w">
                        </span><span class="n">thread</span><span class="w"> </span><span class="n">type</span><span class="w">
</span><span class="m">1</span><span class="w">        </span><span class="n">HOW</span><span class="w"> </span><span class="n">ARE</span><span class="w"> </span><span class="n">ROCKS</span><span class="w"> </span><span class="n">FORMED</span><span class="o">?</span><span class="w">    </span><span class="n">e</span><span class="w">
</span><span class="m">2</span><span class="w"> </span><span class="n">ROCK</span><span class="w"> </span><span class="n">COMPOSITION</span><span class="w"> </span><span class="n">AND</span><span class="w"> </span><span class="n">TEXTURE</span><span class="w">    </span><span class="n">e</span><span class="w">
</span><span class="m">3</span><span class="w">                      </span><span class="n">FOSSILS</span><span class="w">    </span><span class="n">i</span><span class="w">
</span><span class="m">4</span><span class="w">                </span><span class="n">ROCKS</span><span class="w"> </span><span class="n">COLOURS</span><span class="w">    </span><span class="n">e</span><span class="w">
</span><span class="m">5</span><span class="w">            </span><span class="n">Beginning</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">life</span><span class="w">    </span><span class="n">i</span><span class="w">
</span><span class="m">6</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">creation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">universe</span><span class="w">    </span><span class="n">e</span></code></pre></figure>

<p>Each <strong>note</strong> (aka. post) in each thread was coded into six <em>contribution types</em>, including <em>questioning</em>, <em>theorizing</em>, <em>obtaining information</em>, <em>working with information</em>, <em>making synthesis and analogies</em>, and <em>supporting discussion</em>. Notes, after being coded, looked like this:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">head</span><span class="p">(</span><span class="n">dfc</span><span class="p">[,</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">)])</span><span class="w">
                 </span><span class="n">thread</span><span class="w"> </span><span class="n">noteid</span><span class="w"> </span><span class="n">coding</span><span class="w">
</span><span class="m">1</span><span class="w"> </span><span class="n">HOW</span><span class="w"> </span><span class="n">ARE</span><span class="w"> </span><span class="n">ROCKS</span><span class="w"> </span><span class="n">FORMED</span><span class="o">?</span><span class="w">      </span><span class="m">1</span><span class="w">      </span><span class="n">Q</span><span class="w">
</span><span class="m">2</span><span class="w"> </span><span class="n">HOW</span><span class="w"> </span><span class="n">ARE</span><span class="w"> </span><span class="n">ROCKS</span><span class="w"> </span><span class="n">FORMED</span><span class="o">?</span><span class="w">      </span><span class="m">4</span><span class="w">      </span><span class="n">Q</span><span class="w">
</span><span class="m">3</span><span class="w"> </span><span class="n">HOW</span><span class="w"> </span><span class="n">ARE</span><span class="w"> </span><span class="n">ROCKS</span><span class="w"> </span><span class="n">FORMED</span><span class="o">?</span><span class="w">      </span><span class="m">6</span><span class="w">      </span><span class="n">Q</span><span class="w">
</span><span class="m">4</span><span class="w"> </span><span class="n">HOW</span><span class="w"> </span><span class="n">ARE</span><span class="w"> </span><span class="n">ROCKS</span><span class="w"> </span><span class="n">FORMED</span><span class="o">?</span><span class="w">      </span><span class="m">7</span><span class="w">      </span><span class="nb">T</span><span class="w">
</span><span class="m">5</span><span class="w"> </span><span class="n">HOW</span><span class="w"> </span><span class="n">ARE</span><span class="w"> </span><span class="n">ROCKS</span><span class="w"> </span><span class="n">FORMED</span><span class="o">?</span><span class="w">      </span><span class="m">9</span><span class="w">      </span><span class="nb">T</span><span class="w">
</span><span class="m">6</span><span class="w"> </span><span class="n">HOW</span><span class="w"> </span><span class="n">ARE</span><span class="w"> </span><span class="n">ROCKS</span><span class="w"> </span><span class="n">FORMED</span><span class="o">?</span><span class="w">     </span><span class="m">12</span><span class="w">     </span><span class="n">WE</span></code></pre></figure>

<p>To conduct FSM, a little bit of data transformation was needed to reorganize data into the following form:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">head</span><span class="p">(</span><span class="n">dfc_e</span><span class="p">)</span><span class="w"> </span><span class="c1"># effective threads
</span><span class="w">    </span><span class="n">sequenceID</span><span class="w"> </span><span class="n">eventID</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">items</span><span class="w">
</span><span class="m">460</span><span class="w">          </span><span class="m">1</span><span class="w">  </span><span class="m">100460</span><span class="w">    </span><span class="m">1</span><span class="w">     </span><span class="n">Q</span><span class="w">
</span><span class="m">461</span><span class="w">          </span><span class="m">1</span><span class="w">  </span><span class="m">100461</span><span class="w">    </span><span class="m">1</span><span class="w">     </span><span class="n">Q</span><span class="w">
</span><span class="m">462</span><span class="w">          </span><span class="m">1</span><span class="w">  </span><span class="m">100462</span><span class="w">    </span><span class="m">1</span><span class="w">     </span><span class="nb">T</span><span class="w">
</span><span class="m">463</span><span class="w">          </span><span class="m">1</span><span class="w">  </span><span class="m">100463</span><span class="w">    </span><span class="m">1</span><span class="w">    </span><span class="n">WE</span><span class="w">
</span><span class="m">464</span><span class="w">          </span><span class="m">1</span><span class="w">  </span><span class="m">100464</span><span class="w">    </span><span class="m">1</span><span class="w">     </span><span class="nb">T</span><span class="w">
</span><span class="m">465</span><span class="w">          </span><span class="m">1</span><span class="w">  </span><span class="m">100465</span><span class="w">    </span><span class="m">1</span><span class="w">     </span><span class="nb">T</span><span class="w">
</span><span class="o">&gt;</span><span class="w"> </span><span class="n">head</span><span class="p">(</span><span class="n">dfc_i</span><span class="p">)</span><span class="w"> </span><span class="c1"># improvable threads
</span><span class="w">   </span><span class="n">sequenceID</span><span class="w"> </span><span class="n">eventID</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">items</span><span class="w">
</span><span class="m">89</span><span class="w">          </span><span class="m">2</span><span class="w">  </span><span class="m">200089</span><span class="w">    </span><span class="m">1</span><span class="w">     </span><span class="n">Q</span><span class="w">
</span><span class="m">90</span><span class="w">          </span><span class="m">2</span><span class="w">  </span><span class="m">200090</span><span class="w">    </span><span class="m">1</span><span class="w">     </span><span class="nb">T</span><span class="w">
</span><span class="m">91</span><span class="w">          </span><span class="m">2</span><span class="w">  </span><span class="m">200091</span><span class="w">    </span><span class="m">1</span><span class="w">     </span><span class="nb">T</span><span class="w">
</span><span class="m">92</span><span class="w">          </span><span class="m">2</span><span class="w">  </span><span class="m">200092</span><span class="w">    </span><span class="m">1</span><span class="w">     </span><span class="n">Q</span><span class="w">
</span><span class="m">93</span><span class="w">          </span><span class="m">2</span><span class="w">  </span><span class="m">200093</span><span class="w">    </span><span class="m">1</span><span class="w">     </span><span class="nb">T</span><span class="w">
</span><span class="m">94</span><span class="w">          </span><span class="m">2</span><span class="w">  </span><span class="m">200094</span><span class="w">    </span><span class="m">1</span><span class="w">    </span><span class="n">OE</span></code></pre></figure>

<p>Here, <em>effective</em> and <em>improvable</em> threads were partitioned into two separate tables with a same structure. To conform with the requirements of the <a href="http://cran.r-project.org/web/packages/arulesSequences/index.html"><code class="highlighter-rouge">arulesSequences</code></a> R package I was using, a thread was named a <code class="highlighter-rouge">sequence</code>, notes within it were represented as <code class="highlighter-rouge">events</code>, and coded contributions within a note were <code class="highlighter-rouge">items</code>.</p>

<h3 id="running-fsm-on-knowledge-building-dialogues">Running FSM on knowledge-building dialogues</h3>

<p>After data were organized in this proper format, it became fairly easy to run FSM on each data partition using <code class="highlighter-rouge">arulesSequences</code>. There were a few parameters I could tweak to make the mining more meaningful for my specific research context (see code below). For instance, <code class="highlighter-rouge">maxgap</code> was (arbitrarily) set to 2, so two events with more than 2 events in between will not be captured in a sequence. Also, <code class="highlighter-rouge">maxlen</code> was set to 4, so sequences with more than 4 events will not be picked up. <a href="http://en.wikipedia.org/wiki/Association_rule_learning#Useful_Concepts"><code class="highlighter-rouge">support</code></a> was 0.1, so the analysis will pick up sequences that appear in at least 10% of a specific type of threads. More detailed explanation of these parameters could be found in arulesSequences’ documentation.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">arulesSequences</span><span class="p">)</span><span class="w">
</span><span class="c1"># read baskets
</span><span class="n">bskt</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read_baskets</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">info</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s2">"sequenceID"</span><span class="p">,</span><span class="s2">"eventID"</span><span class="p">,</span><span class="s2">"SIZE"</span><span class="p">))</span><span class="w">
</span><span class="c1"># mine frequent sequences
</span><span class="n">fs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">cspade</span><span class="p">(</span><span class="n">bskt</span><span class="p">,</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">support</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.1</span><span class="p">,</span><span class="w"> </span><span class="n">maxlen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="n">maxgap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">),</span><span class="w"> </span><span class="n">control</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">verbose</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="n">bfstype</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">))</span></code></pre></figure>

<p>After frequent sequences were identified for each type of threads, I was able to compare them to inspect whether there were sequences frequent for one type of threads but not for the other.</p>

<p><strong>Single-event sequence</strong></p>

<p>I started from comparing single-event sequences, i.e., single contribution types. Comparison of single-event sequences did not find any substantial difference between two types of threads. Apparently, <em>supporting discussion</em> and <em>working with evidence</em> happened more frequently in effective threads, but only for a bit more than 6% percent. Improvable threads had more frequent <em>making synthesis and analogies</em> contributions, and the difference was 11%.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">Differentiate</span><span class="p">(</span><span class="n">fs_single_pretty</span><span class="p">,</span><span class="w"> </span><span class="n">basket_files</span><span class="p">,</span><span class="w"> </span><span class="m">0.05</span><span class="p">)</span><span class="w">
  </span><span class="n">sequence</span><span class="w"> </span><span class="n">effective</span><span class="w"> </span><span class="n">improvable</span><span class="w">   </span><span class="n">diff</span><span class="w">
</span><span class="m">3</span><span class="w">    </span><span class="o">&lt;</span><span class="p">{</span><span class="n">S</span><span class="p">}</span><span class="o">&gt;</span><span class="w">      </span><span class="m">0.81</span><span class="w">       </span><span class="m">0.74</span><span class="w">  </span><span class="m">0.070</span><span class="w">
</span><span class="m">6</span><span class="w">   </span><span class="o">&lt;</span><span class="p">{</span><span class="n">WE</span><span class="p">}</span><span class="o">&gt;</span><span class="w">      </span><span class="m">0.48</span><span class="w">       </span><span class="m">0.42</span><span class="w">  </span><span class="m">0.063</span><span class="w">
</span><span class="m">4</span><span class="w">   </span><span class="o">&lt;</span><span class="p">{</span><span class="n">SY</span><span class="p">}</span><span class="o">&gt;</span><span class="w">      </span><span class="m">0.26</span><span class="w">       </span><span class="m">0.37</span><span class="w"> </span><span class="m">-0.110</span></code></pre></figure>

<p>These results to some extent triangulated with my LAK paper’s finding that two types of threads did not significantly differ in percentages of contribution types, even though FSM only counted each contribution type’s appearance only once and basic descriptive analysis could count multiple times.</p>

<p><strong>Multi-event sequences</strong></p>

<p>Comparing sequences with multiple events were expected to be more interesting. Here, I improved the <code class="highlighter-rouge">support</code> difference threshold to 20%. Results are presented below:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span><span class="w"> </span><span class="n">Differentiate</span><span class="p">(</span><span class="n">fs_multi_pretty</span><span class="p">,</span><span class="w"> </span><span class="n">basket_files</span><span class="p">,</span><span class="w"> </span><span class="m">0.2</span><span class="p">)</span><span class="w">
              </span><span class="n">sequence</span><span class="w"> </span><span class="n">effective</span><span class="w"> </span><span class="n">improvable</span><span class="w">  </span><span class="n">diff</span><span class="w">
</span><span class="m">90</span><span class="w">   </span><span class="o">&lt;</span><span class="p">{</span><span class="nb">T</span><span class="p">},{</span><span class="nb">T</span><span class="p">},{</span><span class="nb">T</span><span class="p">},{</span><span class="nb">T</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.839</span><span class="w">       </span><span class="m">0.42</span><span class="w">  </span><span class="m">0.42</span><span class="w">
</span><span class="m">88</span><span class="w">   </span><span class="o">&lt;</span><span class="p">{</span><span class="n">S</span><span class="p">},{</span><span class="nb">T</span><span class="p">},{</span><span class="nb">T</span><span class="p">},{</span><span class="nb">T</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.516</span><span class="w">       </span><span class="m">0.21</span><span class="w">  </span><span class="m">0.31</span><span class="w">
</span><span class="m">73</span><span class="w">   </span><span class="o">&lt;</span><span class="p">{</span><span class="n">Q</span><span class="p">},{</span><span class="n">Q</span><span class="p">},{</span><span class="nb">T</span><span class="p">},{</span><span class="nb">T</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.645</span><span class="w">       </span><span class="m">0.37</span><span class="w">  </span><span class="m">0.28</span><span class="w">
</span><span class="m">282</span><span class="w">      </span><span class="o">&lt;</span><span class="p">{</span><span class="nb">T</span><span class="p">},{</span><span class="n">S</span><span class="p">},{</span><span class="n">Q</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.484</span><span class="w">       </span><span class="m">0.21</span><span class="w">  </span><span class="m">0.27</span><span class="w">
</span><span class="m">87</span><span class="w">   </span><span class="o">&lt;</span><span class="p">{</span><span class="n">Q</span><span class="p">},{</span><span class="nb">T</span><span class="p">},{</span><span class="nb">T</span><span class="p">},{</span><span class="nb">T</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.903</span><span class="w">       </span><span class="m">0.63</span><span class="w">  </span><span class="m">0.27</span><span class="w">
</span><span class="m">159</span><span class="w"> </span><span class="o">&lt;</span><span class="p">{</span><span class="nb">T</span><span class="p">},{</span><span class="nb">T</span><span class="p">},{</span><span class="n">OE</span><span class="p">},{</span><span class="nb">T</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.419</span><span class="w">       </span><span class="m">0.16</span><span class="w">  </span><span class="m">0.26</span><span class="w">
</span><span class="m">77</span><span class="w">       </span><span class="o">&lt;</span><span class="p">{</span><span class="n">S</span><span class="p">},{</span><span class="nb">T</span><span class="p">},{</span><span class="nb">T</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.613</span><span class="w">       </span><span class="m">0.37</span><span class="w">  </span><span class="m">0.24</span><span class="w">
</span><span class="m">46</span><span class="w">          </span><span class="o">&lt;</span><span class="p">{</span><span class="n">OE</span><span class="p">},{</span><span class="nb">T</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.710</span><span class="w">       </span><span class="m">0.47</span><span class="w">  </span><span class="m">0.24</span><span class="w">
</span><span class="m">201</span><span class="w">  </span><span class="o">&lt;</span><span class="p">{</span><span class="nb">T</span><span class="p">},{</span><span class="nb">T</span><span class="p">},{</span><span class="nb">T</span><span class="p">},{</span><span class="n">S</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.548</span><span class="w">       </span><span class="m">0.32</span><span class="w">  </span><span class="m">0.23</span><span class="w">
</span><span class="m">81</span><span class="w">   </span><span class="o">&lt;</span><span class="p">{</span><span class="nb">T</span><span class="p">},{</span><span class="n">S</span><span class="p">},{</span><span class="nb">T</span><span class="p">},{</span><span class="nb">T</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.387</span><span class="w">       </span><span class="m">0.16</span><span class="w">  </span><span class="m">0.23</span><span class="w">
</span><span class="m">105</span><span class="w">  </span><span class="o">&lt;</span><span class="p">{</span><span class="nb">T</span><span class="p">},{</span><span class="n">Q</span><span class="p">},{</span><span class="n">S</span><span class="p">},{</span><span class="nb">T</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.387</span><span class="w">       </span><span class="m">0.16</span><span class="w">  </span><span class="m">0.23</span><span class="w">
</span><span class="m">311</span><span class="w">        </span><span class="o">&lt;</span><span class="p">{</span><span class="n">OE</span><span class="p">},{</span><span class="n">OE</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.387</span><span class="w">       </span><span class="m">0.16</span><span class="w">  </span><span class="m">0.23</span><span class="w">
</span><span class="m">65</span><span class="w">      </span><span class="o">&lt;</span><span class="p">{</span><span class="n">OE</span><span class="p">},{</span><span class="nb">T</span><span class="p">},{</span><span class="nb">T</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.645</span><span class="w">       </span><span class="m">0.42</span><span class="w">  </span><span class="m">0.22</span><span class="w">
</span><span class="m">125</span><span class="w">      </span><span class="o">&lt;</span><span class="p">{</span><span class="n">Q</span><span class="p">},{</span><span class="n">Q</span><span class="p">},{</span><span class="nb">T</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.645</span><span class="w">       </span><span class="m">0.42</span><span class="w">  </span><span class="m">0.22</span><span class="w">
</span><span class="m">25</span><span class="w">  </span><span class="o">&lt;</span><span class="p">{</span><span class="nb">T</span><span class="p">},{</span><span class="nb">T</span><span class="p">},{</span><span class="nb">T</span><span class="p">},{</span><span class="n">WE</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.323</span><span class="w">       </span><span class="m">0.11</span><span class="w">  </span><span class="m">0.22</span><span class="w">
</span><span class="m">21</span><span class="w">      </span><span class="o">&lt;</span><span class="p">{</span><span class="nb">T</span><span class="p">},{</span><span class="nb">T</span><span class="p">},{</span><span class="n">WE</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.419</span><span class="w">       </span><span class="m">0.21</span><span class="w">  </span><span class="m">0.21</span><span class="w">
</span><span class="m">74</span><span class="w">   </span><span class="o">&lt;</span><span class="p">{</span><span class="n">S</span><span class="p">},{</span><span class="n">Q</span><span class="p">},{</span><span class="nb">T</span><span class="p">},{</span><span class="nb">T</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.419</span><span class="w">       </span><span class="m">0.21</span><span class="w">  </span><span class="m">0.21</span><span class="w">
</span><span class="m">79</span><span class="w">   </span><span class="o">&lt;</span><span class="p">{</span><span class="n">Q</span><span class="p">},{</span><span class="n">S</span><span class="p">},{</span><span class="nb">T</span><span class="p">},{</span><span class="nb">T</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.419</span><span class="w">       </span><span class="m">0.21</span><span class="w">  </span><span class="m">0.21</span><span class="w">
</span><span class="m">133</span><span class="w">  </span><span class="o">&lt;</span><span class="p">{</span><span class="nb">T</span><span class="p">},{</span><span class="n">S</span><span class="p">},{</span><span class="n">Q</span><span class="p">},{</span><span class="nb">T</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.419</span><span class="w">       </span><span class="m">0.21</span><span class="w">  </span><span class="m">0.21</span><span class="w">
</span><span class="m">240</span><span class="w">          </span><span class="o">&lt;</span><span class="p">{</span><span class="n">Q</span><span class="p">},{</span><span class="n">Q</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.677</span><span class="w">       </span><span class="m">0.47</span><span class="w">  </span><span class="m">0.20</span><span class="w">
</span><span class="m">205</span><span class="w">     </span><span class="o">&lt;</span><span class="p">{</span><span class="n">OE</span><span class="p">},{</span><span class="n">S</span><span class="p">},{</span><span class="n">S</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.097</span><span class="w">       </span><span class="m">0.32</span><span class="w"> </span><span class="m">-0.22</span><span class="w">
</span><span class="m">211</span><span class="w">  </span><span class="o">&lt;</span><span class="p">{</span><span class="nb">T</span><span class="p">},{</span><span class="n">S</span><span class="p">},{</span><span class="n">S</span><span class="p">},{</span><span class="n">S</span><span class="p">}</span><span class="o">&gt;</span><span class="w">     </span><span class="m">0.097</span><span class="w">       </span><span class="m">0.32</span><span class="w"> </span><span class="m">-0.22</span></code></pre></figure>

<p>Generally speaking, in <strong>improvable threads</strong>, students more frequently responded to <em>obtaining evidence</em> or <em>theorizing</em> with <em>supporting discussion</em>, which was mostly about <em>giving opinion</em> on a contribution.</p>

<p>In <strong>effective threads</strong>, students had:</p>

<ul>
  <li>more sustained <em>theorizing</em>, represented by several frequent sequences involving multiple <code class="highlighter-rouge"><span class="p">{</span><span class="err">T</span><span class="p">}</span></code>s</li>
  <li>more integrated use of evidence/information, represented by several frequent transitions between <code class="highlighter-rouge"><span class="p">{</span><span class="err">T</span><span class="p">}</span></code>, <code class="highlighter-rouge"><span class="p">{</span><span class="err">OE</span><span class="p">}</span></code> and <code class="highlighter-rouge"><span class="p">{</span><span class="err">WE</span><span class="p">}</span></code>, such as <code class="highlighter-rouge">&lt;{T},{T},{OE},{T}&gt;</code>, <code class="highlighter-rouge">&lt;{OE},{T},{T}&gt;</code>, and <code class="highlighter-rouge">&lt;{T},{T},{T},{WE}&gt;</code></li>
  <li>and more frequent attempts to problematize proposed theories, represented by <code class="highlighter-rouge">&lt;Q&gt;</code> after <code class="highlighter-rouge">&lt;T&gt;</code>, as well as to propose explanations to solve problems, shown by transitions from <code class="highlighter-rouge">&lt;Q&gt;</code> to <code class="highlighter-rouge">&lt;T&gt;</code></li>
</ul>

<p>These results were consistent with what was found in the LAK paper using LsA:</p>

<blockquote>
  <p>Effective dialogues require students to work more constructively with resources, engage in increasingly deepened questioning and theorizing, and problematize proposed explanations.</p>
</blockquote>

<h3 id="comparing-fsm-with-lsa">Comparing FSM with LsA</h3>

<p>In this experimentation, FSM and LsA arrived at similar results. However, there are noticeable differences. First of all, the underlying algorithms of them are quite different. While LsA relies on more basic matrix computation, the <a href="http://en.wikibooks.org/wiki/Data_Mining_Algorithms_In_R/Sequence_Mining/SPADE#Algorithm">SPADE</a> algorithm implemented in <code class="highlighter-rouge">arulesSequences</code> was basically a process of searching and counting frequent sequences. In a sense, FSM is more flexible in picking up sequential patterns because it could tolerant event <code class="highlighter-rouge">gap</code> to be within a range, whereas LsA (at the version I used) could only configure <code class="highlighter-rouge">lag</code> to a specific value (e.g., 1).</p>

<p>In addition, because of the differences in computation, the results are also quite different. LsA could do significance tests, providing <em>p</em> values many researchers would like. In contrast, FSM produces values of <code class="highlighter-rouge">support</code> which can be compared among groups. It could also induce <em>association rules</em> from frequent sequences, to provide most sophisticated <a href="http://en.wikipedia.org/wiki/Association_rule_learning#Useful_Concepts"><em>interestingness</em> measures</a>, such as <code class="highlighter-rouge">confidence</code> and <code class="highlighter-rouge">lift</code>, for additional comparison.</p>

<h3 id="conclusion">Conclusion</h3>

<p>As two analytic techniques, both FSM and LsA focus on sequentiality of events so could be applied to study the temporal aspect of learning phenomena. My code for FSM is shared as a <a href="https://gist.github.com/meefen/7454d2fc8b9bc821c12a">Github gist</a>. Please feel free to tweak it to work with your own data. Since I am also learning FSM, corrections and comments are more than welcomed.</p>


        </section>
        <footer class="post-footer">
          <section class="share">
            
              
                <a class="icon-twitter" href="http://twitter.com/share?text=Mining+frequent+sequences+in+knowledge+building+dialogues&amp;url=http://bodong.ch//blog/2015/05/02/mining-frequent-sequences"
                  onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;">
                <i class="fa fa-twitter"></i><span class="hidden">twitter</span>
                </a>
              
            
              
            
          </section>
        </footer>
        <div class="bottom-teaser cf">
          <div class="isLeft">
            <h5 class="index-headline featured"><span>Written by</span></h5>
            <section class="author">
              <div class="author-image" style="background-image: url(/assets/images/author.jpg)">Blog Logo</div>
              <h4>Bodong Chen</h4>
              <p class="bio"></p>
              <hr>
              <p class="published">Published <time datetime="2015-05-02 00:00">02 May 2015</time></p>
            </section>
          </div>
          <div class="isRight">
            <h5 class="index-headline featured"><span>Supported by</span></h5>
            <footer class="site-footer">
              <section class="poweredby">Proudly published with <a href="http://jekyllrb.com"> Jekyll</a></section>
              <a class="subscribe" href="/feed.xml"> <span class="tooltip"> <i class="fa fa-rss"></i> You should subscribe to my feed.</span></a>
              <div class="inner">
                <section class="copyright">All content copyright <a href="http://bodong.ch//">Bodong Chen</a> &copy; 2018<br>All rights reserved.</section>
              </div>
            </footer>
          </div>
        </div>
        
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'meefen'; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        
      </article>
    </main>
    <div class="bottom-closer">
      <div class="background-closer-image"  style="background-image: url(/assets/images/delicate-arch-night-stars-landscape.jpg)">
        Image
      </div>
      <div class="inner">
        <h1 class="blog-title">Crisscross Landscapes</h1>
        <h2 class="blog-description">Bodong Chen, University of Minnesota
</h2>
        <a href="/" class="btn">Back to Home</a>
      </div>
    </div>
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/assets/js/index.js"></script>
<script type="text/javascript" src="/assets/js/readingTime.min.js"></script>
<script>
(function ($) {
  "use strict";
  $(document).ready(function(){

    var $window = $(window),
    $image = $('.post-image-image, .teaserimage-image');

      $window.on('scroll', function() {
        var top = $window.scrollTop();

        if (top < 0 || top > 1500) { return; }
        $image
          .css('transform', 'translate3d(0px, '+top/3+'px, 0px)')
          .css('opacity', 1-Math.max(top/700, 0));
      });
      $window.trigger('scroll');

      var height = $('.article-image').height();
      $('.post-content').css('padding-top', height + 'px');

      $('a[href*=#]:not([href=#])').click(function() {
        if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'')
         && location.hostname == this.hostname) {
          var target = $(this.hash);
          target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
          if (target.length) {
            $('html,body').animate({ scrollTop: target.offset().top }, 500);
            return false;
          }
        }
      });

  });
}(jQuery));
</script>

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-50108133-1', 'auto');
  ga('send', 'pageview');

</script>

  </body>
</html>
